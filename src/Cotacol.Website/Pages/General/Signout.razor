@page "/signouts"
@using Microsoft.AspNetCore.Authentication
@using Microsoft.AspNetCore.Authentication.Cookies
@inject IHttpContextAccessor HttpContextAccessor
@inject NavigationManager NavigationManager
@if (string.IsNullOrEmpty(_error))
{
    <MudText Typo="Typo.subtitle1" Color="Color.Secondary">
        You're signed out. See you later!
    </MudText>
}
else
{
    <MudText Typo="Typo.subtitle1" Color="Color.Error">
        @_error
    </MudText>
}

@code {
    private string _error;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            await HttpContextAccessor.HttpContext.SignOutAsync("Identity.External");
            //await HttpContextAccessor.HttpContext.SignOutAsync(CookieAuthenticationDefaults.AuthenticationScheme);
            //NavigationManager.NavigateTo("/");
        }
        catch (Exception e)
        {
            _error = e.ToString();
        }
    }

}